{"version":3,"sources":["../../../src/js/Layout/index.jsx"],"names":["mm","Layout","React","Component","constructor","state","player","trackMetaData","title","artist","picture","rawMeta","newTrack","parseFile","props","fileName","native","then","meta","setState","_","common","catch","e","console","error","message","render","bind","module","exports"],"mappings":";;;;;;AACA;;;;AACA;;IAAYA,E;;AACZ;;AAEA;;;;AACA;;;;AACA;;;;;;;;AAPA;AASe,MAAMC,MAAN,SAAqBC,gBAAMC,SAA3B,CAAoC;AACjDC,gBAAa;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,cAAQ;AACNC,uBAAe;AACbC,iBAAO,iBADM;AAEbC,kBAAQ,SAFK;AAGbC,mBAAQ;AACN,eAAG;AADG;AAHK,SADT;AAQNC,iBAAQ;AARF;AADG,KAAb;AAYD;;AAEDC,aAAU;AACRZ,OAAGa,SAAH,CAAa,KAAKC,KAAL,CAAWC,QAAxB,EAAkC,EAACC,QAAQ,IAAT,EAAlC,EACGC,IADH,CACQC,QAAQ;AACZ,WAAKC,QAAL,CAAeC,MAAM;AACnBd,gBAAO;AACLC,yBAAeW,KAAKG,MADf;AAELV,mBAASO;AAFJ;AADY,OAAN,CAAf;AAMA;AACD,KATH,EAUGI,KAVH,CAUSC,KAAKC,QAAQC,KAAR,CAAcF,EAAEG,OAAhB,CAVd;AAWD;;AAEDC,WAAQ;AACN,WACE;AAAA;AAAA,QAAK,WAAU,WAAf;AACE;AAAC,kCAAD;AAAA,UAAQ,gBAAgB,CAAC,GAAD,CAAxB;AACE;AAAA;AAAA,YAAK,WAAU,QAAf;AACE,wCAAC,iBAAD,OADF;AAEE,wCAAC,iBAAD;AAFF;AADF,OADF;AAOE,oCAAC,gBAAD;AACE,uBAAe,KAAKtB,KAAL,CAAWC,MAAX,CAAkBC,aADnC;AAEE,kBAAU,KAAKK,QAAL,CAAcgB,IAAd,CAAmB,IAAnB,CAFZ;AAGE,kBAAU,KAAKd,KAAL,CAAWC;AAHvB;AAPF,KADF;AAeD;AA/CgD;;kBAA9Bd,M;AAkDrB4B,OAAOC,OAAP,GAAiB7B,MAAjB","file":"index.js","sourcesContent":["// layout\nimport React from \"react\"\nimport * as mm from 'music-metadata';\nimport { HashRouter as Router } from \"react-router-dom\";\n\nimport SideBar from \"./SideBar\"\nimport Browser from \"./Browser\"\nimport Player from \"./Player\"\n\nexport default class Layout extends React.Component{\n  constructor(){\n    super()\n    this.state = {\n      player: {\n        trackMetaData: {\n          title: \"No Track Loaded\",\n          artist: \"Unknown\",\n          picture:{\n            0: {}\n          }\n        },\n        rawMeta:{}\n      }\n    }\n  }\n\n  newTrack(){\n    mm.parseFile(this.props.fileName, {native: true})\n      .then(meta => {\n        this.setState( _ => ({\n          player:{\n            trackMetaData: meta.common,\n            rawMeta: meta\n          }\n        }))\n        // console.log(meta)\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  render(){\n    return (\n      <div className=\"container\">\n        <Router initialEntries={[\"/\"]}>\n          <div className=\"window\">\n            <SideBar/>\n            <Browser/>\n          </div>\n        </Router>\n        <Player \n          trackMetaData={this.state.player.trackMetaData}\n          newTrack={this.newTrack.bind(this)}\n          fileName={this.props.fileName}\n        />\n      </div>\n    )\n  }\n}\n\nmodule.exports = Layout"]}