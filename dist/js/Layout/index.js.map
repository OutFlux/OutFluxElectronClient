{"version":3,"sources":["../../../src/js/Layout/index.jsx"],"names":["mm","Layout","React","Component","constructor","state","player","trackMetaData","title","artist","picture","rawMeta","browser","CurrentPage","newTrack","parseFile","props","fileName","native","then","meta","setState","_","common","catch","e","console","error","message","loadPage","page","render","bind","module","exports"],"mappings":";;;;;;AACA;;;;AACA;;IAAYA,E;;AAEZ;;;;AACA;;;;AACA;;;;;;;;AAEe,MAAMC,MAAN,SAAqBC,gBAAMC,SAA3B,CAAoC;AACjDC,gBAAa;AACX;AACA,SAAKC,KAAL,GAAa;AACXC,cAAQ;AACNC,uBAAe;AACbC,iBAAO,MADM;AAEbC,kBAAQ,MAFK;AAGbC,mBAAQ;AACN,eAAG;AADG;AAHK,SADT;AAQNC,iBAAQ;AARF,OADG;AAWXC,eAAS;AACPC,qBAAa;AADN;AAXE,KAAb;AAeD;;AAEDC,aAAU;AACRd,OAAGe,SAAH,CAAa,KAAKC,KAAL,CAAWC,QAAxB,EAAkC,EAACC,QAAQ,IAAT,EAAlC,EACGC,IADH,CACQC,QAAQ;AACZ,WAAKC,QAAL,CAAeC,MAAM;AACnBhB,gBAAO;AACLC,yBAAea,KAAKG,MADf;AAELZ,mBAASS;AAFJ;AADY,OAAN,CAAf;AAMA;AACD,KATH,EAUGI,KAVH,CAUSC,KAAKC,QAAQC,KAAR,CAAcF,EAAEG,OAAhB,CAVd;AAWD;;AAEDC,WAASC,IAAT,EAAc;AACZ,SAAKT,QAAL,CAAeC,MAAM;AACnBV,eAAS;AACPC,qBAAaiB;AADN;AADU,KAAN,CAAf;AAKD;;AAEDC,WAAQ;AACN,WACE;AAAA;AAAA,QAAK,WAAU,WAAf;AACE;AAAA;AAAA,UAAK,WAAU,QAAf;AACE,sCAAC,iBAAD;AACE,oBAAU,KAAKF,QAAL,CAAcG,IAAd,CAAmB,IAAnB;AADZ,UADF;AAIE,sCAAC,iBAAD;AACE,uBAAa,KAAK3B,KAAL,CAAWO,OAAX,CAAmBC;AADlC;AAJF,OADF;AASE,oCAAC,gBAAD;AACE,uBAAe,KAAKR,KAAL,CAAWC,MAAX,CAAkBC,aADnC;AAEE,kBAAU,KAAKO,QAAL,CAAckB,IAAd,CAAmB,IAAnB,CAFZ;AAGE,kBAAU,KAAKhB,KAAL,CAAWC;AAHvB;AATF,KADF;AAiBD;AA5DgD;;kBAA9BhB,M,EARrB;;AAuEAgC,OAAOC,OAAP,GAAiBjC,MAAjB","file":"index.js","sourcesContent":["// layout\nimport React from \"react\"\nimport * as mm from 'music-metadata';\n\nimport SideBar from \"./SideBar\"\nimport Browser from \"./Browser\"\nimport Player from \"./Player\"\n\nexport default class Layout extends React.Component{\n  constructor(){\n    super()\n    this.state = {\n      player: {\n        trackMetaData: {\n          title: \"None\",\n          artist: \"None\",\n          picture:{\n            0: {}\n          }\n        },\n        rawMeta:{}\n      },\n      browser: {\n        CurrentPage: \"/Browse/Home\"\n      }\n    }\n  }\n\n  newTrack(){\n    mm.parseFile(this.props.fileName, {native: true})\n      .then(meta => {\n        this.setState( _ => ({\n          player:{\n            trackMetaData: meta.common,\n            rawMeta: meta\n          }\n        }))\n        // console.log(meta)\n      })\n      .catch(e => console.error(e.message))\n  }\n\n  loadPage(page){\n    this.setState( _ => ({\n      browser: {\n        CurrentPage: page\n      }\n    }))\n  }\n\n  render(){\n    return (\n      <div className=\"container\">\n        <div className=\"window\">\n          <SideBar\n            LoadPage={this.loadPage.bind(this)}\n          />\n          <Browser\n            CurrentPage={this.state.browser.CurrentPage}\n          />\n        </div>\n        <Player \n          trackMetaData={this.state.player.trackMetaData}\n          newTrack={this.newTrack.bind(this)}\n          fileName={this.props.fileName}\n        />\n      </div>\n    )\n  }\n}\n\nmodule.exports = Layout"]}